<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Map Maker</title>
    <link rel="stylesheet" type="text/css" href="../style/mapmaker.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="../js/mapmaker.js"></script>
</head>
<body>
<p style="padding-bottom:70px"></p>
<div class = "row">
    <div class = "col">
        <canvas id="canvas" width="640px" height="640px"></canvas>
    </div>
    <div class = "row">
        <select id = "type">
            <option value = "start">Starting Position</option>
            <option value = "exit">Exit</option>
            <option value = "walls">Wall</option>
            <option value = "guards">Guard</option>
        </select>
        <br><br><br>
        <button type = "button" id = "clear">Clear</button>
        <br><br><br>
        <button type = "button" id = "text">Show Text</button>
        <br><br><br>
        <form id = "myForm" onsubmit="download">
          <p>File Name <input type="text" name="name" value="map.txt"></p>
            <br>
          <textarea name="text" id="textbox"rows="20" cols="50"></textarea><br>
          <input type="submit" value="Download">
        </form>
        <br>
        <button type = "button" id = "upload"> Upload </button>
        <script>
        document.getElementById("myForm").onsubmit = function() {download(this['name'].value, this['text'].value)};

        function download(filename, text) {
          var element = document.createElement('a');
          element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));
          element.setAttribute('download', filename);

          element.style.display = 'none';
          document.body.appendChild(element);

          element.click();

          document.body.removeChild(element);
        }
        </script>
    </div>
</div>
</body>
</html>